<section class="project-page">
  <header class="project-page__header mb-5">
    <div class="d-flex align-items-center justify-content-between mb-2">
      <h1 class="display-4 font-weight-bold"><%= @project.name %></h1>
      <p class="d-flex flex-column align-items-end">
        <span class="text-muted">Created on</span>
        <span><%= @project.created_at.strftime("%B %d, %Y") %></span>
      </p>
    </div>
    <div class="d-flex flex-column flex-md-row align-items-center justify-content-between mb-4">
      <div class="d-flex align-items-center mb-2">
        <ul class="project-page__avatars">
          <% @members.each do |member| %>
            <li class="project-page__avatars__item">
              <a href="#">
                <%= render(UserAvatarComponent.new(user: member, size: 40)) %>
              </a>
            </li>
          <% end %>
          <% if @members.count > 5 %>
            <li class="project-page__avatars__item">
              <a href="#">
                <%= @members.count - 5 %>+
              </a>
            </li>
          <% end %>
        </ul>
        <a href="#" class="btn btn-outline-secondary ml-4" data-toggle="modal" data-target="#invite-modal">
          Invite
          <i class="fas fa-plus ml-1"></i>
        </a>
      </div>
      <a href="#" class="btn btn-success ml-4" data-toggle="modal" data-target="#task-modal">
        Add a task
      </a>
    </div>
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex">
        <div class="mr-4">
          <h5 class="fw-bold m-0"><%= @backlog.tasks.count %></h5>
          <span class="text-muted">Backlog</span>
        </div>
        <div>
          <h5 class="fw-bold m-0"><%= @project.tasks.count %></h5>
          <span class="text-muted">Total Project</span>
        </div>
      </div>
      <%= link_to 'Go to Backlog', project_label_path(@project, @backlog), class: 'btn btn-outline-secondary' %>
    </div>
  </header>
  <main class="project-page__content px-3 py-4">
    <div id="project-<%= @project.slug %>-board" class="row">
      <%= render(ProjectBoardComponent.with_collection(@labels)) %>
    </div>
    <%= render 'tasks/form_modal', project: @project, task: @task %>
    <%= render 'invites/form_modal', project: @project, invite: @invite %>
  </main>
</section>
